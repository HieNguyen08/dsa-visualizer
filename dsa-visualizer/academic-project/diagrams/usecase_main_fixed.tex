\documentclass[tikz,border=10pt]{standalone}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[vietnamese]{babel}
\usepackage{tikz}
\usetikzlibrary{shapes.geometric, arrows, positioning, shapes.multipart, fit}

\tikzset{
    actor/.style={
        draw,
        shape=rectangle,
        minimum width=1.5cm,
        minimum height=2cm,
        text centered,
        font=\small
    },
    usecase/.style={
        draw,
        ellipse,
        minimum width=2.5cm,
        minimum height=1cm,
        text centered,
        font=\scriptsize,
        text width=2cm,
        align=center
    },
    system/.style={
        draw,
        rectangle,
        minimum width=14cm,
        minimum height=10cm,
        thick
    },
    include/.style={
        draw,
        dashed,
        ->,
        font=\tiny
    },
    extend/.style={
        draw,
        dotted,
        ->,
        font=\tiny
    },
    association/.style={
        draw,
        -
    }
}

\begin{document}
\begin{tikzpicture}[node distance=2.5cm]

% Title
\node[above] at (0,12) {\Large \textbf{Use Case Diagram - DSA Visualizer Platform}};

% ===== ACTORS =====
\node[actor] (guest) at (-10,6) {Guest\\User};
\node[actor] (student) at (-10,2) {Student\\User};
\node[actor] (teacher) at (-10,-2) {Teacher};
\node[actor] (admin) at (10,2) {System\\Admin};

% ===== SYSTEM BOUNDARY =====
\node[system] (system) at (0,2) {};
\node[above] at (0,8.5) {\textbf{DSA Visualizer Platform}};

% ===== GUEST USER USE CASES =====
\node[usecase] (browse_algorithms) at (-5,7) {Browse Available\\Algorithms};
\node[usecase] (view_demos) at (-2,7.5) {View Demo\\Visualizations};
\node[usecase] (read_documentation) at (1,7) {Read Algorithm\\Documentation};

% ===== CORE LEARNING USE CASES =====
\node[usecase] (register_account) at (-5,5.5) {Register\\Account};
\node[usecase] (login_system) at (-2,5.5) {Login to\\System};
\node[usecase] (select_algorithm) at (1,5.5) {Select Algorithm\\to Learn};
\node[usecase] (run_visualization) at (4,5.5) {Run Step-by-step\\Visualization};

% ===== INTERACTIVE FEATURES =====
\node[usecase] (control_playback) at (-5,4) {Control Playback\\Speed};
\node[usecase] (step_through) at (-2,4) {Step Through\\Algorithm};
\node[usecase] (customize_input) at (1,4) {Customize Input\\Data};
\node[usecase] (compare_algorithms) at (4,4) {Compare Different\\Algorithms};

% ===== LEARNING MANAGEMENT =====
\node[usecase] (track_progress) at (-5,2.5) {Track Learning\\Progress};
\node[usecase] (save_sessions) at (-2,2.5) {Save Learning\\Sessions};
\node[usecase] (access_ai_help) at (1,2.5) {Access AI\\Assistant};
\node[usecase] (take_quizzes) at (4,2.5) {Take Algorithm\\Quizzes};

% ===== COLLABORATION FEATURES =====
\node[usecase] (join_discussions) at (-5,1) {Join Algorithm\\Discussions};
\node[usecase] (share_solutions) at (-2,1) {Share Problem\\Solutions};
\node[usecase] (peer_review) at (1,1) {Participate in\\Peer Review};

% ===== TEACHER USE CASES =====
\node[usecase] (create_assignments) at (-5,-0.5) {Create Learning\\Assignments};
\node[usecase] (monitor_students) at (-2,-0.5) {Monitor Student\\Progress};
\node[usecase] (grade_submissions) at (1,-0.5) {Grade Student\\Submissions};
\node[usecase] (customize_curriculum) at (4,-0.5) {Customize\\Curriculum};

% ===== ADMIN USE CASES =====
\node[usecase] (manage_users) at (-5,-2) {Manage System\\Users};
\node[usecase] (update_content) at (-2,-2) {Update Algorithm\\Content};
\node[usecase] (monitor_system) at (1,-2) {Monitor System\\Performance};
\node[usecase] (generate_reports) at (4,-2) {Generate Usage\\Reports};

% ===== ASSOCIATIONS =====
% Guest User associations
\draw[association] (guest) -- (browse_algorithms);
\draw[association] (guest) -- (view_demos);
\draw[association] (guest) -- (read_documentation);
\draw[association] (guest) -- (register_account);

% Student User associations (inherits from guest)
\draw[association] (student) -- (login_system);
\draw[association] (student) -- (select_algorithm);
\draw[association] (student) -- (run_visualization);
\draw[association] (student) -- (control_playback);
\draw[association] (student) -- (step_through);
\draw[association] (student) -- (customize_input);
\draw[association] (student) -- (compare_algorithms);
\draw[association] (student) -- (track_progress);
\draw[association] (student) -- (save_sessions);
\draw[association] (student) -- (access_ai_help);
\draw[association] (student) -- (take_quizzes);
\draw[association] (student) -- (join_discussions);
\draw[association] (student) -- (share_solutions);
\draw[association] (student) -- (peer_review);

% Teacher associations
\draw[association] (teacher) -- (login_system);
\draw[association] (teacher) -- (create_assignments);
\draw[association] (teacher) -- (monitor_students);
\draw[association] (teacher) -- (grade_submissions);
\draw[association] (teacher) -- (customize_curriculum);

% Admin associations
\draw[association] (admin) -- (manage_users);
\draw[association] (admin) -- (update_content);
\draw[association] (admin) -- (monitor_system);
\draw[association] (admin) -- (generate_reports);

% ===== INCLUDE RELATIONSHIPS =====
\draw[include] (run_visualization) -- (control_playback) node[midway,above,font=\tiny] {<<include>>};
\draw[include] (run_visualization) -- (step_through) node[midway,below,font=\tiny] {<<include>>};
\draw[include] (take_quizzes) -- (track_progress) node[midway,right,font=\tiny] {<<include>>};

% ===== EXTEND RELATIONSHIPS =====
\draw[extend] (access_ai_help) -- (run_visualization) node[midway,above,font=\tiny] {<<extend>>};
\draw[extend] (compare_algorithms) -- (select_algorithm) node[midway,below,font=\tiny] {<<extend>>};

\end{tikzpicture}
\end{document}
